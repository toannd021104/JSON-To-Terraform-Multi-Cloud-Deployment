{
  "target" : "wins",
  "package": [
    {
      "name": "git"
    },
    {
      "name": "7zip"
    }
  ],
  "files": [
    {
        "type": "dir",
        "path": "C:\\Tools"
    },
    {
        "type": "file",
        "path": "C:\\Tools\\source.txt",
        "source": "https://raw.githubusercontent.com/canonical/cloud-init/main/doc/examples/cloud-config.txt"
    },
    {
        "type": "link",
        "path": "C:\\Tools\\symlink.txt",
        "target": "C:\\Tools\\source.txt"
    },
    {
      "type": "file",
      "path": "C:\\Tools\\normal-file.txt",
      "content": "This is a simple test line of text.\nThis is the second line."
    }
  ],
  "exec": [
      {
        "command": "New-Item -Path 'C:\\temp\\test-app.log' -ItemType File -Value \"Test file created at $(Get-Date)\" -Force",
        "creates": "C:\\temp\\test-app.log",
        "cwd": "C:\\temp",
        "environment": [
          "TEST_ENV=production",
          "TEST_VERSION=1.0.2"
        ],
        "onlyif": "Test-Path -Path 'C:\\temp'",
        "timeout": 15
      },
      {
        "command": "Write-Host 'Checking logs...'; Get-ChildItem -Path 'C:\\temp\\test-*'",
        "unless": "Test-Path -Path 'C:\\temp\\test-app.log'"
      },
      {
        "command": "Write-Output 'System Uptime Info' > C:\\temp\\uptime.log; Get-CimInstance Win32_OperatingSystem | Select-Object LastBootUpTime >> C:\\temp\\uptime.log",
        "onlyif": "Test-Path -Path 'C:\\' -PathType Container"
      },
      "Write-Host 'Simple PowerShell command without options'"
    ],
  "timezone": "Asia/Saigon",
  "hostname": "toanwuoc-win-host",
  "groups": [
    "cloud-admins",
    "cloud-users"
  ],
  "users": [
    {
      "name": "toanwuoc_admin",
      "gecos": "Cloud Administrator",
      "primary_group": "Administrators",
      "groups": "cloud-admins",
      "password": "StrongPassw0rd"
    },
    {
      "name": "toanwuoc_user",
      "gecos": "ToanQuoc User",
      "primary_group": "Users",
      "groups": "cloud-users",
      "password": "StrongPassw0rd"
    }
  ]
}
